(()=>{const t=document.querySelector("[data-digest-index]");if(!t)return;const e=t.querySelector("[data-digest-search]"),a=Array.from(t.querySelectorAll("[data-digest-filter]")),s=Array.from(t.querySelectorAll("[data-digest-card]"));let l="all";const r=t=>(t||"").toLowerCase().trim(),d=t=>{l=t,a.forEach(e=>{e.classList.toggle("active",e.dataset.digestFilter===t),e.setAttribute("aria-pressed",e.dataset.digestFilter===t?"true":"false")}),i()},i=()=>{const t=r(e?e.value:"");s.forEach(e=>{const a=r(e.dataset.tags||""),s=r(e.dataset.title||""),d=r(e.dataset.tagline||""),i="all"===l||a.split(/\s+/).includes(l),c=!t||(s.includes(t)||d.includes(t));e.style.display=i&&c?"":"none"})};e&&e.addEventListener("input",i),a.forEach(t=>{t.addEventListener("click",()=>d(t.dataset.digestFilter||"all"))}),d("all")})();