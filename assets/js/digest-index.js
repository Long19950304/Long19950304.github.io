(()=>{const t=document.querySelector("[data-digest-index]");if(!t)return;const e=t.querySelector("[data-digest-search]"),a=Array.from(t.querySelectorAll("[data-digest-filter]")),s=Array.from(t.querySelectorAll("[data-digest-card]"));let l="all";const r=t=>(t||"").toLowerCase().trim(),d=t=>t.closest("[data-digest-col]")||t.parentElement||t,i=t=>{l=t,a.forEach(e=>{e.classList.toggle("active",e.dataset.digestFilter===t),e.setAttribute("aria-pressed",e.dataset.digestFilter===t?"true":"false")}),c()},c=()=>{const t=r(e?e.value:"");s.forEach(e=>{const a=r(e.dataset.tags||""),s=r(e.dataset.title||""),i=r(e.dataset.tagline||""),c="all"===l||a.split(/\s+/).includes(l),n=!t||(s.includes(t)||i.includes(t)||a.includes(t));d(e).style.display=c&&n?"":"none"})};e&&e.addEventListener("input",c),a.forEach(t=>{t.addEventListener("click",()=>i(t.dataset.digestFilter||"all"))}),i("all")})();